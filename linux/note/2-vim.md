<!--
 * @Author: shouxie
 * @Date: 2020-05-28 11:23:12
 * @Description: 
 -->
### vi/vim

vi/vim 共分为三种模式，分别是命令模式，输入模式和底线命令模式

- 命令模式/一般模式：
    - 移动
    - 删除
    - 复制
    - 粘贴
- 编辑模式：
    - 编辑
- 底线命令模式
  输入【? / :】就可以将光标移到命令行最底。可进行
      - 查找
      - 读取
      - 存盘
      - 替换字符
      - 离开vi
      - 显示行号等

#### 命令模式/一般模式

- 移动：
    - ctrl f 向下翻页  / ctrl b 向上翻页 （forward， back）
    - 0： 移到行首，最前面字符处  $: 移到行尾，最后面字符处
    - G： 当前文件最后一行
    - gg： 当前文件第一行
    - n enter： n为数字，光标向下移动n行
    - hjkl： h左 j下 k上 l右
- 删除：
    - x：向后删除一个字符，X：向前删除一个字符
    - dd： 删除光标所在行一整行
    - ndd： 删除光标所在行向下n行
- 复制：
    - yy：复制光标所在行一整行
    - nyy： 复制光标所在行向下n行

- 粘贴：
    - p： 将复制的内容粘贴到光标行下一行  P：将复制的内容粘贴到光标行上一行

- u： 复原前一个操作
- .: 小数点，重复前一个操作
- ctrl r： 重做上一个操作

#### 底线命令模式

- / 
    - /word 向下查找word的字符串
- ?
    - ?word 向上查找word的字符串

- :
    - :n1,n2s/word1/word2/g: 在n1和n2 行之间查找word1的字符串，将其替换为word2
    - :1,$s/word1/word2/g: 在1行和n最后一行之间查找word1的字符串，将其替换为word2
    - :1,$s/word1/word2/gc:在1行和n最后一行之间查找word1的字符串，将其替换为word2，并且替换之前提示用户是否需要替换d


#### 一般模式切换到底线命令模式
- :w   将编辑的数据写入到硬盘中
- :q   离开vi编辑器，后面加! 为强制离开
- :wq  保存后离开
- :wq! 强制保存后离开
- :set nu  设置显示行号
- :set nonu 取消显示行号
- :w 新文件名  另存为新文件 
- :n1,n2 w 新文件名  将第n1到n2行的内容另存为新文件
- : r 文件a  将文件a的内容读入当前文件


#### 一般模式切换到编辑模式

- i，I 插入
    - i 当前光标处插入
    - I 当前所在行的第一个非空格字符处插入

- a，A append
    - a 光标所在处下一个字符处开始插入
    - A  所在行最后一个字符处开始插入
- o，O
    - o 当前行的下一行开始插入
    - O 当前行的上一行开始插入
- r，R 替换
    - r： 只替换光标所在的字符1次
    - R： 会一直替换光标所在的字符，直到按下esc